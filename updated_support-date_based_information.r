
#day light saving
require(data.table)
summerTimes=c(as.Date('2016-03-27'),as.Date('2015-03-29'))
winterTimes=c(as.Date('2016-10-30'),as.Date('2015-11-08'))


yilbasi<-as.Date(c("2010-01-01","2011-01-01","2012-01-01","2013-01-01","2014-01-01","2015-01-01","2016-01-01","2017-01-01","2018-01-01","2019-01-01","2020-01-01"))
sevgililergunu<-as.Date(c("2010-02-14","2011-02-14","2012-02-14","2013-02-14","2014-02-14","2015-02-14","2016-02-14","2017-02-14","2018-02-14","2019-02-14","2020-02-14"))
cocukbayrami<-as.Date(c("2010-04-23","2011-04-23","2012-04-23","2013-04-23","2014-04-23","2015-04-23","2016-04-23","2017-04-23","2018-04-23","2019-04-23"))
iscibayrami<-as.Date(c("2010-05-01","2011-05-01","2012-05-01","2013-05-01","2014-05-01","2015-05-01","2016-05-01","2017-05-01","2018-05-01","2019-05-01"))
annelergunu<-as.Date(c("2010-05-09","2011-05-08","2012-05-13","2013-05-12","2014-05-11","2015-05-10","2016-05-08","2017-05-14","2018-05-13", "2019-05-12"))
genclikbayrami<-as.Date(c("2010-05-19","2011-05-19","2012-05-19","2013-05-19","2014-05-19","2015-05-19","2016-05-19","2017-05-19","2018-05-19","2019-05-19"))
babalargunu<-as.Date(c("2010-06-20","2011-06-19","2012-06-17","2013-06-16","2014-06-15","2015-06-21","2016-06-19","2017-06-18","2018-06-17","2019-06-16"))
zaferbayrami<-as.Date(c("2010-08-30","2011-08-30","2012-08-30","2013-08-30","2014-08-30","2015-08-30","2016-08-30","2017-08-30","2018-08-30","2019-08-30"))
cumhuriyet<-as.Date(c("2010-10-29","2011-10-29","2012-10-29","2013-10-29","2014-10-29","2015-10-29","2016-10-29","2017-10-29","2018-10-29","2019-10-29"))
kadinlargunu<-as.Date(c("2010-03-08","2011-03-08","2012-03-08","2013-03-08","2014-03-08","2015-03-08","2016-03-08","2017-03-08","2018-03-08", "2019-03-08"))


ramazanbayrami<-as.Date(c("2010-09-09","2010-09-10","2010-09-11",
                          "2011-08-30","2011-08-31","2011-09-01",
                          "2012-08-19","2012-08-20","2012-08-21",
                          "2013-08-08","2013-08-09","2013-08-10",
                          "2014-07-24","2014-07-25","2014-07-26",
                          "2015-07-17","2015-07-18","2015-07-19",
                          "2016-07-04","2016-07-05","2016-07-06","2016-07-07",
                          "2017-06-24","2017-06-25","2017-06-26","2017-06-27",
                          "2018-06-14","2018-06-15","2018-06-16","2018-06-17",
                          "2019-06-03","2019-06-04","2019-06-05","2019-06-06")) #


kurbanbayrami<-as.Date(c("2010-11-16","2010-11-17","2010-11-18","2010-11-19",
                         "2011-11-06","2011-11-07","2011-11-08","2011-11-09",
                         "2012-10-25","2012-10-26","2012-10-27","2012-10-28",
                         "2013-10-15","2013-10-16","2013-10-17","2013-10-18",
                         "2014-10-04","2014-10-05","2014-10-06","2014-10-07",
                         "2015-09-23","2015-09-24","2015-09-25","2015-09-26","2015-09-27",
                         "2016-09-11","2016-09-12","2016-09-13","2016-09-14","2016-09-15",
                         "2017-08-31","2017-09-01","2017-09-02","2017-09-03","2017-09-04",
                         "2018-08-20","2018-08-21","2018-08-22","2018-08-23","2018-08-24",
                         "2019-08-10","2019-08-11","2019-08-12","2019-08-13","2019-08-14")) #"2017-09-31",

uzunbayram=c(seq(as.Date('2016-09-10'),as.Date('2016-09-18'),by='day'),
                seq(as.Date('2017-08-26'),as.Date('2017-09-03'),by='day'),
                seq(as.Date('2018-08-18'),as.Date('2018-08-26'),by='day'),
                seq(as.Date('2019-06-01'),as.Date('2019-06-09'),by='day'),
                seq(as.Date('2019-08-10'),as.Date('2019-08-18'),by='day')
             )


semester<-as.Date(c(
  "2010-01-23","2010-01-24","2010-01-25","2010-01-26","2010-01-27","2010-01-28","2010-01-29","2010-01-30","2010-01-31","2010-02-01","2010-02-02","2010-02-03","2010-02-04","2010-02-05","2010-02-06","2010-02-07",
  "2011-01-29","2011-01-30","2011-01-31","2011-02-01","2011-02-02","2011-02-03","2011-02-04","2011-02-05","2011-02-06","2011-02-07","2011-02-08","2011-02-09","2011-02-10","2011-02-11","2011-02-12","2011-02-13",
  "2012-01-21","2012-01-22","2012-01-23","2012-01-24","2012-01-25","2012-01-26","2012-01-27","2012-01-28","2012-01-29","2012-01-30","2012-01-31","2012-02-01","2012-02-02","2012-02-03","2012-02-04","2012-02-05",
  "2013-01-26","2013-01-27","2013-01-28","2013-01-29","2013-01-30","2013-01-31","2013-02-01","2013-02-02","2013-02-03","2013-02-04","2013-02-05","2013-02-06","2013-02-07","2013-02-08","2013-02-09","2013-02-10",
  "2014-01-25","2014-01-26","2014-01-27","2014-01-28","2014-01-29","2014-01-30","2014-01-31","2014-02-01","2014-02-02","2014-02-03","2014-02-04","2014-02-05","2014-02-06","2014-02-07","2014-02-08","2014-02-09",
  "2015-01-24","2015-01-25","2015-01-26","2015-01-27","2015-01-28","2015-01-29","2015-01-30","2015-01-31","2015-02-01","2015-02-02","2015-02-03","2015-02-04","2015-02-05","2015-02-06","2015-02-07","2015-02-08",
  "2016-01-24","2016-01-25","2016-01-26","2016-01-27","2016-01-28","2016-01-29","2016-01-30","2016-01-31","2016-02-01","2016-02-02","2016-02-03","2016-02-04","2016-02-05","2016-02-06","2016-02-07","2016-02-08",
  "2017-01-21","2017-01-22","2017-01-23","2017-01-24","2017-01-25","2017-01-26","2017-01-27","2017-01-28","2017-01-29","2017-01-30","2017-01-31","2017-02-01","2017-02-02","2017-02-03","2017-02-04","2017-02-05",
  "2018-01-20","2018-01-21","2018-01-22","2018-01-23","2018-01-24","2018-01-25","2018-01-26","2018-01-27","2018-01-28","2018-01-29","2018-01-30","2018-01-31","2018-02-01","2018-02-02","2018-02-03","2018-02-04",
  "2019-01-19","2019-01-20","2019-01-21","2019-01-22","2019-01-23","2019-01-24","2019-01-25","2019-01-26","2019-01-27","2019-01-28","2019-01-29","2019-01-30","2019-01-31","2019-02-01","2019-02-02","2019-02-03",
  "2020-01-18","2020-01-19","2020-01-20","2020-01-21","2020-01-22","2020-01-23","2020-01-24","2020-01-25","2020-01-26","2020-01-27","2020-01-28","2020-01-29","2020-01-30","2020-01-31","2020-02-01","2020-02-02"
)
)

kandil<-as.Date(c("2010-02-25","2010-06-17","2010-07-08","2010-07-26","2010-09-05",
                  "2011-04-14","2011-06-02","2011-06-28","2011-07-15","2011-08-26",
                  "2012-02-03","2012-05-24","2012-06-16","2012-07-04","2012-08-14",
                  "2013-01-23","2013-05-16","2013-06-05","2013-06-23","2013-08-03",
                  "2014-01-12","2014-05-01","2014-05-25","2014-06-12","2014-07-23",
                  "2015-01-02","2015-04-23","2015-05-15","2015-06-01","2015-07-12",
                   "2016-04-07","2016-05-03","2016-05-21","2016-07-01","2016-12-11",
                   "2017-03-30","2017-04-23","2017-05-10","2017-06-21","2017-11-30",
                  "2018-03-22","2018-04-13","2018-04-30","2018-06-10","2018-10-19",
                  "2019-03-07","2019-04-02","2019-04-19","2019-05-31","2019-11-08"
 ))




ramazanbayramilkgun<-as.Date(c("2014-06-28","2015-07-17","2016-07-05","2017-06-23","2018-06-15","2019-06-04"))
ramazanbayramisonrasi=lapply(ramazanbayramilkgun,function(x) seq(x+4,x+10,by='day'))
ramazanbayramisonrasi=as.Date(unlist(ramazanbayramisonrasi), origin = "1970-01-01")


kurbanbayramilkgun<-as.Date(c("2010-11-16","2011-11-06","2012-10-25","2013-10-15","2014-10-04","2015-09-23","2016-09-12","2017-08-31","2017-09-01","2018-08-21","2019-08-11"))

ramazangunler=c(seq(as.Date('2015-06-18'),as.Date('2015-07-16'),by='day'),
                seq(as.Date('2016-06-06'),as.Date('2016-07-04'),by='day'),
                seq(as.Date('2017-05-27'),as.Date('2017-06-24'),by='day'),
                seq(as.Date('2018-05-16'),as.Date('2018-06-14'),by='day'),
                seq(as.Date('2019-05-06'),as.Date('2019-06-03'),by='day'))


yilbasioncesi=c(seq(as.Date('2014-12-01'),as.Date('2014-12-31'),by='day'),
                seq(as.Date('2015-12-01'),as.Date('2015-12-31'),by='day'),
                seq(as.Date('2016-12-01'),as.Date('2016-12-31'),by='day'),
                seq(as.Date('2017-12-01'),as.Date('2017-12-31'),by='day'),
                seq(as.Date('2018-12-01'),as.Date('2018-12-31'),by='day'),
                seq(as.Date('2019-12-01'),as.Date('2019-12-31'),by='day')
                )

kurbanoncesigunler=lapply(kurbanbayramilkgun,function(x) seq(x-14,x-1,by='day'))
kurbanoncesigunler=as.Date(unlist(kurbanoncesigunler), origin = "1970-01-01")

ramazanilkgun<-as.Date(c("2014-06-28","2015-06-17","2016-06-06","2017-05-27","2018-05-16","2019-05-06"))
ramazanoncesigunler=lapply(ramazanilkgun,function(x) seq(x-30,x-1,by='day'))
ramazanoncesigunler=as.Date(unlist(ramazanoncesigunler), origin = "1970-01-01")

arife<-as.Date(c("2010-09-08", "2011-08-29","2012-08-18", "2013-08-07","2014-07-23","2015-07-16", "2016-07-04", "2017-06-24", "2018-06-14", "2019-06-03",
                "2015-09-23","2016-09-11","2018-08-20","2017-08-31","2019-08-10")) #

onbestemmuz<-as.Date(c("2017-07-15","2018-07-15","2019-07-15"))

holiday=c(ramazanbayrami,kurbanbayrami,yilbasi,iscibayrami,genclikbayrami,cocukbayrami,cumhuriyet,zaferbayrami,onbestemmuz)

outlierdays<-as.Date(c("2015-03-31","2016-07-15","2017-07-15","2018-06-14"))

elections<-as.Date(c("2015-10-01","2015-07-07","2017-04-16","2018-06-24","2019-03-31"))

examination<-as.Date(c("2019-06-16","2019-06-15","2018-06-30","2018-07-01","2017-03-12","2016-03-13","2015-03-15"))


single_day_holidays=c(yilbasi,iscibayrami,genclikbayrami,cocukbayrami,cumhuriyet,zaferbayrami,onbestemmuz)

school_start<-as.Date(c("2012-02-06","2012-09-17",
                        "2013-02-11","2013-09-16",
                        "2014-02-10","2014-09-15",
                        "2015-02-09","2015-09-14",
                        "2016-02-09","2016-09-19",
                        "2017-02-06","2017-09-18",
                        "2018-02-05","2018-09-17",
                        "2019-02-04","2019-09-09",
                        "2020-02-03"
))

school_end<-as.Date(c("2012-06-08",
                      "2013-01-25","2013-06-14",
                      "2014-01-24","2014-06-13",
                      "2015-01-23","2015-06-12",
                      "2016-01-23","2016-06-12",
                      "2017-01-20","2017-06-09",
                      "2018-01-19","2018-06-08",
                      "2019-01-18","2019-06-14",
                      "2020-01-17"
                      
))

school_period = data.table(start=school_start, end=c(school_end,NA), semester_id=c(2,1,2,1,2,1,2,1,2,1,2,1,2,1,2,1,2))
school_days=as.Date(unlist(lapply(1:(nrow(school_period)-1),function(x) {as.character(seq(school_period$start[x],school_period$end[x],by='day'))})))

all_days=seq(as.Date('2014-01-01'),as.Date('2020-03-03'),by='day')

winter_break_schools=seq(as.Date('2019-11-16'),as.Date('2019-11-24'),by='day')

semester_days=all_days[!(all_days %in% school_days)]

winter_break=semester_days[month(semester_days) %in% c(1,2)]
summer_break=semester_days[month(semester_days) %in% c(6,7,8,9)]
var_list=ls()
var_list=var_list[var_list!="all_days"]
setwd("C:/Users/Sthesk/Desktop/bitirme/ozel_gunler")
for (var_name in var_list){
  n=data.frame(mget(var_name))
  write.table(n,paste(var_name,".csv",sep= ""),append = T, sep = ",")
}